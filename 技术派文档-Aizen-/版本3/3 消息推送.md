# 消息推送

-   用户评论文章/评论——通知目标用户（作者/评论者）
-   用户点赞文章/评论——通知目标用户（作者/评论者）
-   用户关注用户（作者）——通知目标用户（作者）
-   用户收藏文章——通知目标用户（作者）
-   系统消息——通知目标用户
-   用户（作者）发布文章——通知目标用户（粉丝）

消费前，使用Redis的SETNX EX避免重复消费。

开启消费：

-   在MySQL存储消息通知。
-   使用SSE长连接执行消息通知。

规则：当用户登陆成功/请求数据后，使用Guava的LoadCache缓存SSE长连接。超过一定时间没有消息则断开，假如重新获取则代替

>   作者发布文章不会通知，只有作者用户通过轮询的方式获取。
>



